extends minimal

block head
		title= page.charAt(0).toUpperCase() + page.substr(1)

		- viewport = ['width=device-width']
		- viewport[1] = 'initial-scale=1'
		- viewport[2] = 'minimum-scale=1'
		- viewport[3] = 'maximum-scale=10'
		meta(name='viewport', content=viewport.join())
		//meta(name='apple-mobile-web-app-capable', content='yes')
		//meta(name='apple-mobile-web-app-status-bar-style', content='none')
		// + ' | ' + title
		link#favicon(rel='icon', href='/img/favicon.png', type='image/png')
		if styles
			for style in styles
				link(id=style.id, rel='stylesheet', href=style.path)
		block styles

block body
	nav#navBar

		h1#logo
			a(href='/', class=(page === 'home') ? 'active' : '') Î»
		.links
			ul
				if appNames
					for name in appNames
						- var path = '/' + name.toLowerCase()
						- var active = page === name.toLowerCase() ? ' active' : ''
						- var className = name.toLowerCase() + active

						li(class=className)
							a(href=path, title=name)
								span(
								class= name.toLowerCase() + 'Icon oi',
								data-glyph, aria-hidden='true'
								)
								span.text= name

		.right
			if config
				a(
					href='/' + config.owner.username,
					class=(page === config.owner.username) ? 'active' : ''
				)
					// TODO
					img(alt='Profile picture', src='/img/placeholder.jpg')
					span= config.owner.firstname
			a.settings(
				href='/settings',
				class=(page === 'settings') ? 'active' : ''
			)
				span(class= 'settingsIcon oi', data-glyph, aria-hidden='true')
				span.text Settings
	.spacer
		.content(id=page)
			block content

	include partials/console

	if scripts
		for link in scripts
			script(src=link)

	block scripts
