extends ../linked_modules/lamda-views/layout

block styles
	link(rel='stylesheet', href='#{baseURL}/styles/index.css')

block content
	ul
		for day in days
			- var classes = []
			- if (day.today) classes.push('today')
			- if (day.date.getDay() === 1) classes.push('monday')
			li(class= classes.join())
				.date
					span= day.date.toISOString().substr(0,10)
					= ' '
					span= day.date.toDateString().substr(0,1)
				.day
					if day.today
						// TODO: Automatically update position with fronted javascript
						.cursor(style='left:' + percentageOfDay)
					for event in day.events
						.event(
							style= event.style
							class= (event.empty ? 'empty' : '')
							title= (event.startDate.toISOString().substr(0,16) + ' to \n' +
								event.endDate.toISOString().substr(0,16)).replace(/T/g, ' ')
						)
							if event.title
								span= event.title + ' '
